<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chat with History</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div id="layout">
  <div id="menu-bubble">
    <button id="toggle-history" onclick="toggleHistory()">ğŸ“‚</button>
    <div id="history" class="bubble">
      <label style="font-size: 14px;">é€‰æ‹©æ¨¡å‹ï¼š</label>
      <select id="model-select" style="width: 100%; margin-bottom: 10px;"></select>
      <button onclick="createNewChat()">+ æ–°å¯¹è¯</button>
      <button onclick="clearAllChats()">ğŸ—‘ æ¸…ç©ºå†å²</button>
      <button onclick="exportCurrentChat()">ğŸ“ å¯¼å‡ºå½“å‰å¯¹è¯</button>
      <button onclick="toggleDarkMode()">ğŸŒ“ å¤œé—´æ¨¡å¼</button>
      <input type="text" id="search-box" placeholder="æœç´¢æ¶ˆæ¯..." oninput="searchMessages()" style="margin-top: 10px; width: 100%; padding: 5px; font-size: 14px;" />
      <div id="history-list"></div>
    </div>
  </div>
  <div id="main">
    <div id="chat" style="margin-top: 60px;"></div>
    <div id="input-container">
  <textarea id="user-input" rows="2" placeholder="è¾“å…¥ä½ çš„é—®é¢˜..."></textarea>
  
</div>
    </div>
  </div>
</div>

<script>
function toggleHistory() {
  document.getElementById('history').classList.toggle('show');
}

// è‡ªåŠ¨å…³é—­èœå•æ°”æ³¡ï¼ˆç‚¹å‡»å¤–éƒ¨ï¼‰
document.addEventListener('click', function (e) {
  const history = document.getElementById('history');
  const toggle = document.getElementById('toggle-history');
  if (!history.contains(e.target) && !toggle.contains(e.target)) {
    history.classList.remove('show');
  }
});
</script>
<script>
document.getElementById('user-input').addEventListener('keydown', function (e) {
  if (e.key === 'Enter' && !e.shiftKey) {
    e.preventDefault();
    sendMessage();
  }
});

</script>
<script src="script.js"></script>
</body>
</html>
